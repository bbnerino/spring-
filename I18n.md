# 국제화 (i18n) - 2. 구글 스프레드 시트 연동

국제화를 한 내용이 자주 변경될 때 계속해서 json 파일을 변경해줘야 합니다.

직접적으로 JSON 파일을 적는 것이 아니라 스프레드 시트와 연동해서 알아서 JSON 파일이 만들어지면 좋겠다 생각해서 진행하게 되었습니다.

사실 자동화는 국제화에 있어 꼭 필요한 과정인 것 같습니다.

---

# 구글 스프레드 시트 연결

이런 저런 시도를 많이 해봤으나 너무 고생만 했었습니다..
제일 쉬운건 라이브러리 없이 구글 api만을 이용하면 됐습니다.

```js
const GOOGLE_SHEET_BASE_URL = "https://sheets.googleapis.com/v4/spreadsheets";
const GOOGLE_API_KEY = "156315123132";
const GOOGLE_SHEET_ID = "5415656";

const response = await axios.get(
  `${GOOGLE_SHEET_BASE_URL}/${GOOGLE_SHEET_ID}/values/${module}?key=${GOOGLE_API_KEY}`
);
```

간단하게 요약하면 이쪽으로 요청을 하면 원하는 시트에 있는 값을 돌려줍니다.

1. 시트를 생성합니다. 시트를 생성하고 공유 에서 링크가 있는 모두에게 허용해야합니다.
   (ㅠㅠ 이거 잠긴줄 몰라서 403이 계속 떴습니다..)

2. `GOOGLE_SHEET_ID` => 시트의 url 주소 중 중간 값입니다.

3. `module`=> 시트의 모듈 즉 아래쪽에 시트 종류? 라고 얘기하면 될 것 같습니다.
   sheet1 , sheet2 ...

4. `GOOGLE_API_KEY` => api 키를 발급받아서 넣어줍니다.
   구글 클라우드 > 사용자 인증 정보 > 사용자 인증정보 만들기 > API 키

끝.
(이렇게 간단했다니.. 눈물 삼백방울...🥲 )

---

이렇게 받아온 데이터는 아래와 같이 생겼습니다.

`[ ['greet','안녕','hi'],['bybye','안녕~','bye'] ]`

이 값들은 key,ko_KR,en_US 로 사용될 예정입니다.

#### 컨벤션

1. 페이지마다 나눠줬습니다.
2. key를 영어와 똑같이 소문자로 적어줄 것입니다. 띄워쓰기를 '\_'를 이용했습니다.
3. 이렇게 적게 되면 다른 곳에 적힌 카멜케이스와 혼돈이 없을 것입니다.
4. 디버깅에서도 영어로 번역한 뒤 찾으면 변수를 찾기 쉬울 것이라 생각했습니다.
